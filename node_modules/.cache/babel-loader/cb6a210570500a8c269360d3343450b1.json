{"ast":null,"code":"import _regeneratorRuntime from\"/home/bryan/Escritorio/Cursos/React/clima/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/bryan/Escritorio/Cursos/React/clima/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/bryan/Escritorio/Cursos/React/clima/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment,useState,useEffect}from'react';import Header from'./components/Header';import Formulario from'./components/Formulario';import Clima from'./components/Clima';import Error from'./components/Error';function App(){var _useState=useState({ciudad:'',pais:''}),_useState2=_slicedToArray(_useState,2),busqueda=_useState2[0],guardarBusqueda=_useState2[1];var ciudad=busqueda.ciudad,pais=busqueda.pais;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),consultar=_useState4[0],guardarConsultar=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),resultado=_useState6[0],guardarResultado=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],guardarError=_useState8[1];useEffect(function(){var consultarAPI=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var appId,url,respuesta,_resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!consultar){_context.next=11;break;}appId='dfb41382d0db5a2b2ec82c21f98f9a4e';url=\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(ciudad,\",\").concat(pais,\"&appid=\").concat(appId);_context.next=5;return fetch(url);case 5:respuesta=_context.sent;_context.next=8;return respuesta.json();case 8:_resultado=_context.sent;guardarResultado(_resultado);guardarConsultar(false);case 11://Validando que exista el resultado\nif(resultado.cod==='404'){guardarError(true);}else{guardarError(false);}case 12:case\"end\":return _context.stop();}}},_callee);}));return function consultarAPI(){return _ref.apply(this,arguments);};}();consultarAPI();// eslint-disable-next-line\n},[consultar]);var componente;if(error){componente=/*#__PURE__*/_jsx(Error,{mensaje:\"No hay resultados \"});}else{componente=/*#__PURE__*/_jsx(Clima,{resultado:resultado});}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{titulo:\"Clima React App\"}),/*#__PURE__*/_jsx(\"div\",{className:\"contenedor-form\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col m6 s12\",children:/*#__PURE__*/_jsx(Formulario,{busqueda:busqueda,guardarBusqueda:guardarBusqueda,guardarConsultar:guardarConsultar})}),/*#__PURE__*/_jsx(\"div\",{className:\"col m6 s12\",children:componente})]})})})]});}export default App;","map":{"version":3,"sources":["/home/bryan/Escritorio/Cursos/React/clima/src/App.js"],"names":["React","Fragment","useState","useEffect","Header","Formulario","Clima","Error","App","ciudad","pais","busqueda","guardarBusqueda","consultar","guardarConsultar","resultado","guardarResultado","error","guardarError","consultarAPI","appId","url","fetch","respuesta","json","cod","componente"],"mappings":"qjBAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,QAAvB,CAAgCC,SAAhC,KAAgD,OAAhD,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CAEA,QAASC,CAAAA,GAAT,EAAe,eAEoBN,QAAQ,CAAC,CACxCO,MAAM,CAAC,EADiC,CAExCC,IAAI,CAAC,EAFmC,CAAD,CAF5B,wCAENC,QAFM,eAEGC,eAFH,kBAONH,CAAAA,MAPM,CAOOE,QAPP,CAONF,MAPM,CAOCC,IAPD,CAOOC,QAPP,CAOCD,IAPD,gBAQqBR,QAAQ,CAAC,KAAD,CAR7B,yCAQPW,SARO,eAQGC,gBARH,8BAUsBZ,QAAQ,CAAC,EAAD,CAV9B,yCAUNa,SAVM,eAUIC,gBAVJ,8BAWcd,QAAQ,CAAC,KAAD,CAXtB,yCAWNe,KAXM,eAWAC,YAXA,eAcbf,SAAS,CAAC,UAAI,CACZ,GAAMgB,CAAAA,YAAY,0FAAG,0KAEjBN,SAFiB,0BAGbO,KAHa,CAGP,kCAHO,CAIbC,GAJa,4DAI2CZ,MAJ3C,aAIqDC,IAJrD,mBAImEU,KAJnE,wBAMIE,CAAAA,KAAK,CAACD,GAAD,CANT,QAMbE,SANa,qCAOIA,CAAAA,SAAS,CAACC,IAAV,EAPJ,QAObT,UAPa,eASnBC,gBAAgB,CAACD,UAAD,CAAhB,CACAD,gBAAgB,CAAC,KAAD,CAAhB,CAVmB,QAYpB;AAEA,GAAGC,SAAS,CAACU,GAAV,GAAgB,KAAnB,CAAyB,CACxBP,YAAY,CAAC,IAAD,CAAZ,CACD,CAFA,IAEI,CACHA,YAAY,CAAC,KAAD,CAAZ,CACD,CAlBoB,uDAAH,kBAAZC,CAAAA,YAAY,0CAAlB,CAsBAA,YAAY,GACZ;AACD,CAzBQ,CAyBP,CAACN,SAAD,CAzBO,CAAT,CA2BA,GAAIa,CAAAA,UAAJ,CACA,GAAGT,KAAH,CAAS,CAEPS,UAAU,cAAC,KAAC,KAAD,EAAO,OAAO,CAAC,oBAAf,EAAX,CACD,CAHD,IAGK,CAEHA,UAAU,cAAC,KAAC,KAAD,EACG,SAAS,CAAEX,SADd,EAAX,CAID,CAID,mBACE,MAAC,QAAD,yBACI,KAAC,MAAD,EACE,MAAM,CAAC,iBADT,EADJ,cAKI,YAAK,SAAS,CAAC,iBAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,YAAf,uBACM,KAAC,UAAD,EACI,QAAQ,CAAEJ,QADd,CAEI,eAAe,CAAEC,eAFrB,CAGI,gBAAgB,CAAEE,gBAHtB,EADN,EADJ,cASI,YAAK,SAAS,CAAC,YAAf,UACaY,UADb,EATJ,GADJ,EADJ,EALJ,GADF,CA6BD,CAED,cAAelB,CAAAA,GAAf","sourcesContent":["import React,{Fragment,useState,useEffect} from 'react';\nimport Header from './components/Header';\nimport Formulario from './components/Formulario'\nimport Clima from './components/Clima';\nimport Error from './components/Error'\n\nfunction App() {\n\n  const [busqueda,guardarBusqueda]=useState({\n    ciudad:'',\n    pais:'',\n});\n\n  const {ciudad,pais}=busqueda\n  const[consultar,guardarConsultar]=useState(false);\n\n  const [resultado,guardarResultado]=useState({});\n  const [error,guardarError]=useState(false);\n  \n  \n  useEffect(()=>{\n    const consultarAPI = async () =>{\n\n     if(consultar){\n      const appId='dfb41382d0db5a2b2ec82c21f98f9a4e';\n      const url=`http://api.openweathermap.org/data/2.5/weather?q=${ciudad},${pais}&appid=${appId}`;\n\n      const respuesta= await fetch(url);\n      const resultado= await respuesta.json();\n\n      guardarResultado(resultado);\n      guardarConsultar(false);\n     }\n     //Validando que exista el resultado\n\n     if(resultado.cod==='404'){\n      guardarError(true)\n    }else{\n      guardarError(false);\n    }\n      \n\n    }\n    consultarAPI();\n    // eslint-disable-next-line\n  },[consultar]);\n\n  let componente;\n  if(error){\n    \n    componente=<Error mensaje='No hay resultados ' />\n  }else{\n\n    componente=<Clima\n                  resultado={resultado}\n                  />\n\n  }\n\n\n\n  return (\n    <Fragment>\n        <Header\n          titulo='Clima React App'\n        />\n        \n        <div className=\"contenedor-form\">\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col m6 s12\">\n                          <Formulario \n                              busqueda={busqueda}\n                              guardarBusqueda={guardarBusqueda}\n                              guardarConsultar={guardarConsultar}\n                          />\n                    </div>\n\n                    <div className=\"col m6 s12\">\n                                {componente}\n                    </div>\n                </div>\n            </div>\n\n        </div>\n       \n\n    </Fragment>\n    \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}